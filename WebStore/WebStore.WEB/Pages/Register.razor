@page "/register"



@if (_registerSuccessful == false)
{
    <div class="main_container">
        <h3>Registration Form</h3>

        @if (_attemptToRegisterFailedMessage != null && _attemptToregisterFailed == true )
        {
            foreach (string error in _attemptToRegisterFailedMessage)
            {
                <p class="register_errors" >@error</p>
            }
        }

        <div class="form">
            <EditForm Model="_userToRegister" id="user-data">

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="EmailAddress" />
                    </div>
                    <label for="email">Email Address</label>
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.EmailAddress" id="email" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="ConfirmEmailAddress" />
                    </div>
                    <label for="confirm-email">Confirm Email Address</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.ConfirmEmailAddress" id="confirm-email" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="Password" />
                    </div>
                    <label for="password">Password</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.Password" id="password" type="password" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="ConfirmPassword" />
                    </div>
                    <label for="confirm-password">Confirm Password</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.ConfirmPassword" id="confirm-password" type="password" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="FirstName" />
                    </div>
                    <label for="first-name">First Name</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.FirstName" id="first-name" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="LastName" />
                    </div>
                    <label for="last-name">Last Name</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.LastName" id="last-name" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="PhoneNumber" />
                    </div>
                    <label for="phone-number">Phone Number</label>                    
                    <InputText style="width: 100%;" @bind-Value="_userToRegister.PhoneNumber" id="phone-number" />
                </div>
            </EditForm>
        </div>

        <div class="form">
            <EditForm Model="_address" id="user-address-data">
                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="AddressLine1" />
                    </div>
                    <label for="address-line-1">Address Line 1</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.AddressLine1" id="address-line-1" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="AddressLine2" />
                    </div>
                    <label for="address-line-2">Address Line 2</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.AddressLine2" id="address-line-2" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="Suburb" />
                    </div>
                    <label for="suburb">Suburb</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.Suburb" id="suburb" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="City" />
                    </div>
                    <label for="city">City</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.City" id="city" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="PostalCode" />
                    </div>
                    <label for="postal-code">Postal Code</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.PostalCode" id="postal-code" />
                </div>

                <div>
                    <div>
                        <InputValidation ValidationErrors="@ValidationErrors" PropertyName="Country" />
                    </div>
                    <label for="country">Country</label>                    
                    <InputText style="width: 100%;" @bind-Value="_address.Country" id="country" />
                </div>
            </EditForm>
        </div>

        <button @onclick="RegisterUser_Click">Submit Registration Form</button>

        
    </div>
}
else
{
    <h4>Registration was successful. Press the button below to go to the sign in page.</h4>
    <button>Go to Sign In Page</button>
}

